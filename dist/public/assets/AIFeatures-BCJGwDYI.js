import{c as P,a as z,h as ee,g as _,r as o,j as e,b as j,A as se,m as A,d as U,u as te,R as F,C as ae,X as le}from"./index-B0BMMOO8.js";import{B as Y,M as ne}from"./MobileLayout-D2nqiddE.js";import{d as E}from"./api-B0AzvdDA.js";import{S as G}from"./send-CXk9ilWa.js";import{C as T}from"./circle-alert-CX-_l5l9.js";import{P as re}from"./pill-DHpeHmp7.js";import{S as K}from"./shield-check-CqJhENm0.js";import{P as ie}from"./plus-BGHh8ZQu.js";import{M as V}from"./mic-BayHx9nl.js";const oe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ce=P("history",oe);const de=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xe=P("image",de);const me=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],he=P("mic-off",me);const ue=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],pe=P("user-round",ue);const ge=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],fe=P("volume-2",ge),be=["Fever","Headache","Chest Pain","Back Pain","Cough","Stomach Ache","Fatigue","Dizziness"];function ye(){const{user:r}=U(),{addNotification:t}=te(),{t:n}=z(),[a,h]=o.useState(""),[c,i]=o.useState(!1),[m,N]=o.useState(null),[u,v]=o.useState(""),k=async p=>{i(!0),v(""),N(null),E({endpoint:"/api/ai/symptom-check",payload:{symptoms:p,userProfile:{age:r.age,gender:r.gender,diseases:r.diseases}}},l=>{N(l),l.severity==="severe"&&t({type:"alert",title:n("Severe Symptom Alert"),message:`${n("Based on your symptoms")}: ${n(l.condition)}. ${n("Please see a doctor")}.`}),i(!1)},l=>{v(l),i(!1)})},C={mild:"text-green-600 bg-green-50",moderate:"text-amber-600 bg-amber-50",severe:"text-red-600 bg-red-50"};return e.jsxs("div",{children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx("textarea",{className:"w-full px-4 py-3.5 pr-14 rounded-2xl border border-gray-200 text-sm resize-none focus:outline-none focus:border-blue-500 shadow-sm",rows:3,placeholder:n("Describe your symptoms in detail... (e.g., 'I have a headache and mild fever since yesterday')"),value:a,onChange:p=>h(p.target.value)}),e.jsx("button",{onClick:()=>a&&k(a),disabled:!a||c,className:j("absolute bottom-3 right-3 w-10 h-10 rounded-xl flex items-center justify-center transition-all",a&&!c?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-400"),children:c?e.jsx(F,{className:"w-4 h-4 animate-spin"}):e.jsx(G,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex gap-2 flex-wrap mb-5",children:be.map(p=>e.jsxs("button",{onClick:()=>{h(l=>l?`${l}, ${n(p)}`:n(p))},className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded-full text-xs font-medium hover:bg-blue-100 transition-colors",children:["+ ",n(p)]},p))}),u&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 text-sm text-red-700",children:[e.jsx(T,{className:"w-4 h-4 inline mr-2"}),u]}),c&&e.jsxs("div",{className:"glass rounded-2xl p-6 text-center",children:[e.jsx(F,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:n("Analyzing your symptoms with AI...")}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n("Using Mistral AI model")})]}),m&&e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:[e.jsxs("div",{className:j("rounded-2xl p-4 flex items-center justify-between",C[m.severity]),children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-wider opacity-70",children:n("Possible Condition")}),e.jsx("p",{className:"text-lg font-bold",children:n(m.condition)})]}),e.jsx("span",{className:j("text-xs font-bold px-3 py-1 rounded-full border capitalize",C[m.severity]),children:n(m.severity)})]}),[{icon:T,label:n("Possible Causes"),items:m.causes,color:"text-orange-600",bg:"bg-orange-50"},{icon:re,label:n("Suggested Medicines"),items:m.medicines,color:"text-blue-600",bg:"bg-blue-50"},{icon:K,label:n("Precautions"),items:m.precautions,color:"text-green-600",bg:"bg-green-50"}].map(({icon:p,label:l,items:y,color:w,bg:H})=>e.jsxs("div",{className:j("rounded-2xl p-4",H),children:[e.jsxs("div",{className:j("flex items-center gap-2 mb-2 font-bold text-sm",w),children:[e.jsx(p,{className:"w-4 h-4"}),l]}),e.jsx("ul",{className:"space-y-1",children:y?.map((R,I)=>e.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-2",children:[e.jsx("span",{className:j("mt-1 w-1.5 h-1.5 rounded-full shrink-0",w.replace("text","bg"))}),R]},I))})]},l)),e.jsxs("div",{className:"glass rounded-2xl p-4 flex items-center gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:n("Recommended specialist")}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:n(m.doctorType)})]}),e.jsxs("a",{href:"/consult",className:"text-xs font-bold text-blue-600 flex items-center gap-0.5",children:[n("Book")," ",e.jsx(ae,{className:"w-3 h-3"})]})]}),e.jsxs("p",{className:"text-[11px] text-gray-400 text-center",children:["âš ï¸ ",n("AI analysis for informational purposes only. Always consult a doctor for medical advice.")]})]})]})}function je(){const{user:r}=U(),{t}=z(),n={role:"assistant",text:`${t("Hello")} ${r.name||t("there")}! ðŸ‘‹ ${t("I'm MIYA, your personal AI health assistant. I can help you with symptoms, general health queries, and more. How are you feeling today?")}`,timestamp:new Date},[a,h]=o.useState([n]),[c,i]=o.useState(""),[m,N]=o.useState(!1),[u,v]=o.useState(!1),[k,C]=o.useState(!1),[p,l]=o.useState(!1),[y,w]=o.useState(""),[H,R]=o.useState(!1),[I,L]=o.useState([]),B=o.useRef(null),q=o.useRef(null),O=o.useRef(null);o.useEffect(()=>{const s=localStorage.getItem("healthify_ai_history");if(s)try{const d=JSON.parse(s).map(x=>({...x,date:new Date(x.date),messages:x.messages.map(S=>({...S,timestamp:new Date(S.timestamp)}))}));L(d)}catch{}},[]),o.useEffect(()=>{B.current?.scrollIntoView({behavior:"smooth"})},[a,m,H]);const J=()=>{if(a.length<=1)return;const d=[{id:Date.now().toString(),date:new Date,preview:a.find(x=>x.role==="user")?.text||t("Chat session"),messages:[...a]},...I];L(d),localStorage.setItem("healthify_ai_history",JSON.stringify(d)),h([n])},W=s=>{const d=I.find(x=>x.id===s);d&&(h(d.messages),R(!1))},M=async(s,d)=>{if(!s.trim()&&!d)return;const x={role:"user",text:s,timestamp:new Date,imageUrl:d};h(g=>[...g,x]),i(""),w(""),N(!0);const S=a.slice(-10).map(g=>({role:g.role,content:g.text,...g.imageUrl?{imageUrl:g.imageUrl}:{}}));E({endpoint:"/api/ai/chat",payload:{message:s||t("I have uploaded an image. Please analyze it."),history:S,imageUrl:d,userName:r.name||t("User"),userProfile:{age:r.age,gender:r.gender,diseases:r.diseases}}},g=>{if(g.error)w(g.error);else{const f=g.reply.replace(/\*\*/g,"").replace(/^[-*]\s+/gm,"â€¢ ");if(h(b=>[...b,{role:"assistant",text:f,timestamp:new Date}]),k&&window.speechSynthesis){window.speechSynthesis.cancel();const b=new SpeechSynthesisUtterance(f);b.lang="en-IN",b.onstart=()=>l(!0),b.onend=()=>l(!1),b.onerror=()=>l(!1),window.speechSynthesis.speak(b)}}N(!1)},g=>{w(g);const f=s.toLowerCase();let b=t("I'm having trouble connecting to the internet right now. Please check your connection.");f.includes("fever")?b=t("For a mild fever, rest and drink plenty of fluids. Take paracetamol if needed. If it exceeds 103Â°F (39.5Â°C) or lasts over 3 days, see a doctor."):f.includes("cold")||f.includes("cough")?b=t("For a cold, stay hydrated, use honey for coughs, and rest. If you have trouble breathing or chest pain, seek medical help immediately."):f.includes("headache")?b=t("Rest in a quiet, dark room, stay hydrated, and take a mild pain reliever if needed. If it's the worst headache of your life or accompanied by vision changes, go to emergency."):f.includes("vomiting")||f.includes("stomach")||f.includes("belly")?b=t("For stomach pain or vomiting, stay hydrated with small sips of water or ORS. Avoid solid foods until vomiting stops. Seek help if you can't keep fluids down for 24 hours or have severe pain."):f.includes("burn")||f.includes("cut")?b=t("For minor cuts or burns, clean with cool water and apply a sterile bandage. If it's a deep cut that won't stop bleeding or a large burn, seek emergency care."):(f.includes("hello")||f.includes("hi ")||f.includes("hey"))&&(b=t("Hello! I am operating in offline mode right now, but I can still answer basic questions about fever, cold, headache, and stomach pain. How can I help?")),h(Z=>[...Z,{role:"assistant",text:b,timestamp:new Date}]),N(!1)})},D=(s=!1)=>{const d=window.SpeechRecognition||window.webkitSpeechRecognition;if(!d){alert(t("Voice input not supported in this browser."));return}window.speechSynthesis&&window.speechSynthesis.cancel(),l(!1);const x=new d;x.lang="en-IN",x.onresult=S=>{const g=S.results[0][0].transcript;i(g),v(!1),s&&setTimeout(()=>M(g),500)},x.onend=()=>v(!1),x.start(),q.current=x,v(!0)},$=()=>{q.current?.stop(),v(!1),window.speechSynthesis&&(window.speechSynthesis.cancel(),l(!1))},Q=s=>{const d=s.target.files?.[0];if(!d)return;const x=new FileReader;x.onloadend=()=>{const S=x.result;M(t(`Please analyze this ${d.type.includes("pdf")?"document":"medical image"} I've uploaded.`),S)},x.readAsDataURL(d)},X=[t("What are signs of diabetes?"),t("How to lower blood pressure?"),t("What should I eat for heart health?"),t("Explain my BMI")];return H?e.jsxs("div",{className:"flex flex-col h-[65vh]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:t("Chat History")}),e.jsxs("div",{className:"flex gap-3 items-center",children:[I.length>0&&e.jsx("button",{onClick:()=>{localStorage.removeItem("healthify_ai_history"),L([])},className:"text-sm text-red-500 font-bold hover:text-red-700",children:t("Clear All")}),e.jsx("button",{onClick:()=>R(!1),className:"text-sm text-blue-600 font-bold",children:t("Back")})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:I.length===0?e.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:t("No saved chats yet.")}):I.map(s=>e.jsxs("div",{onClick:()=>W(s.id),className:"glass rounded-2xl p-4 cursor-pointer hover:bg-white/60 transition-colors",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 line-clamp-1 mb-1",children:s.preview}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsx("span",{children:s.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),e.jsxs("span",{children:[s.messages.length," ",t("messages")]})]})]},s.id))})]}):e.jsxs("div",{className:"flex flex-col h-[65vh]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{a.length>1?J():h([n])},className:"text-xs bg-white border border-gray-100 px-3 py-1.5 rounded-full flex items-center gap-1.5 text-gray-600 font-bold hover:bg-gray-50 shadow-sm",children:[e.jsx(ie,{className:"w-3 h-3"})," ",t("New")]}),e.jsxs("button",{onClick:()=>{C(!0),D(!0)},className:"text-xs bg-blue-50 border border-blue-100 px-3 py-1.5 rounded-full flex items-center gap-1.5 text-blue-700 font-bold hover:bg-blue-100 shadow-sm transition-colors",children:[e.jsx(fe,{className:"w-3 h-3"})," ",t("Voice Mode")]})]}),e.jsxs("button",{onClick:()=>R(!0),className:"text-xs bg-white border border-gray-100 px-3 py-1.5 rounded-full flex items-center gap-1.5 text-gray-600 font-bold hover:bg-gray-50 shadow-sm",children:[e.jsx(ce,{className:"w-3 h-3"})," ",t("History")]})]}),k?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 bg-slate-900 rounded-3xl mb-4 relative overflow-hidden shadow-inner w-full mt-2",children:[e.jsx("button",{onClick:()=>{C(!1),$()},className:"absolute top-4 right-4 text-white/50 hover:text-white p-2 bg-white/10 rounded-full transition-colors z-20",children:e.jsx(le,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-white/80 font-bold mb-16 text-center text-lg z-10 transition-all",children:t(m?"Thinking...":p?"MIYA is speaking...":u?"Listening...":"Tap the orb to speak")}),e.jsxs("button",{onClick:()=>u?$():D(!0),className:"relative group z-10",children:[e.jsx("div",{className:j("absolute inset-0 rounded-full blur-3xl transition-all duration-700",u?"bg-red-500/60 scale-[1.8] animate-pulse":p?"bg-cyan-500/60 scale-[1.8] animate-pulse":m?"bg-purple-500/50 scale-[1.5] animate-spin":"bg-blue-500/40 scale-[1.2] group-hover:scale-[1.3]")}),e.jsx("div",{className:"relative z-10 w-32 h-32 rounded-full bg-gradient-to-tr from-indigo-900 via-blue-800 to-cyan-500 shadow-[0_0_40px_rgba(6,182,212,0.6)] flex items-center justify-center border-2 border-white/20",children:u?e.jsx(V,{className:"w-10 h-10 text-white animate-bounce"}):e.jsx(_,{className:"w-10 h-10 text-white"})})]}),e.jsx("div",{className:"mt-16 h-20 flex items-center justify-center z-10 w-full",children:m?null:u&&c?e.jsxs("p",{className:"text-white/60 text-center max-w-[280px] italic",children:['"',c,'"... ']}):a.length>1?e.jsxs("p",{className:"text-white/90 text-center max-w-[280px] font-medium text-lg leading-snug",children:['"',a[a.length-1].text.length>90?a[a.length-1].text.slice(0,90)+"...":a[a.length-1].text,'"']}):null})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 pb-3 scrollbar-none",children:[a.map((s,d)=>e.jsx(A.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:j("flex",s.role==="user"?"justify-end":"justify-start"),children:e.jsxs("div",{className:j("max-w-[85%] rounded-2xl px-4 py-3 text-sm",s.role==="user"?"bg-blue-600 text-white rounded-br-sm":"glass rounded-bl-sm"),children:[s.role==="assistant"&&e.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5 text-blue-600 font-bold text-[11px] uppercase tracking-wider",children:[e.jsx(_,{className:"w-3 h-3"})," MIYA"]}),s.imageUrl&&e.jsx("img",{src:s.imageUrl,alt:"User uploaded",className:"max-w-[200px] w-full rounded-xl mb-2 border border-white/20 shadow-sm"}),e.jsx("p",{className:"leading-relaxed whitespace-pre-wrap",children:s.text}),e.jsx("p",{className:j("text-[10px] mt-1",s.role==="user"?"text-blue-200":"text-gray-400"),children:s.timestamp.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})},d)),m&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"glass rounded-2xl rounded-bl-sm px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5 text-blue-600 font-bold text-[11px]",children:[e.jsx(_,{className:"w-3 h-3"})," MIYA"]}),e.jsx("div",{className:"flex gap-1",children:[0,1,2].map(s=>e.jsx(A.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{y:[0,-6,0]},transition:{repeat:1/0,duration:.8,delay:s*.15}},s))})]})}),y&&e.jsx("p",{className:"text-xs text-red-500 text-center",children:y}),e.jsx("div",{ref:B})]}),a.length<=2&&e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-none shrink-0",children:X.map(s=>e.jsx("button",{onClick:()=>M(s),className:"shrink-0 bg-blue-50 text-blue-700 text-xs font-medium px-3 py-2 rounded-full whitespace-nowrap hover:bg-blue-100",children:s},s))}),e.jsxs("div",{className:"glass rounded-2xl p-2 flex items-center gap-2 mt-2 shrink-0 border border-white/60",children:[e.jsx("input",{type:"file",ref:O,accept:"image/*,.pdf",className:"hidden",onChange:Q}),e.jsx("button",{onClick:()=>O.current?.click(),className:"p-2.5 text-gray-500 hover:text-blue-600 rounded-xl hover:bg-blue-50 transition-colors",children:e.jsx(xe,{className:"w-5 h-5"})}),e.jsx("input",{className:"flex-1 bg-transparent text-sm focus:outline-none text-gray-800 placeholder-gray-400",placeholder:t("Ask about your health..."),value:c,onChange:s=>i(s.target.value),onKeyDown:s=>s.key==="Enter"&&!s.shiftKey&&M(c)}),c?e.jsx("button",{onClick:()=>M(c),disabled:m,className:"p-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:e.jsx(G,{className:"w-5 h-5"})}):e.jsx("button",{onClick:()=>u?$():D(),className:j("p-2.5 rounded-xl transition-colors",u?"bg-red-100 text-red-600 animate-pulse":"bg-gray-100 text-gray-600 hover:bg-blue-50"),children:u?e.jsx(he,{className:"w-5 h-5"}):e.jsx(V,{className:"w-5 h-5"})})]})]})]})}function we(){const{user:r,bmi:t,bmiCategory:n}=U(),{t:a}=z(),[h,c]=o.useState(!1),[i,m]=o.useState(null),[N,u]=o.useState(""),v=async()=>{if(!r.height||!r.weight){u(a("Please complete your profile (height, weight) first in Settings."));return}c(!0),u(""),E({endpoint:"/api/ai/predict",payload:{profile:{age:r.age,gender:r.gender,height:r.height,weight:r.weight,diseases:r.diseases}}},l=>{l.error?u(l.error):m(l),c(!1)},l=>{u(l),c(!1)})},k=l=>l>=70?"#ef4444":l>=40?"#f59e0b":"#22c55e",C=l=>l>=70?"High Risk":l>=40?"Moderate":"Low Risk",p=i?[{name:"Diabetes",value:i.diabetesRisk,fill:k(i.diabetesRisk)},{name:"Heart",value:i.heartRisk,fill:k(i.heartRisk)},{name:"BP",value:i.bpRisk,fill:k(i.bpRisk)}]:[];return e.jsxs("div",{children:[e.jsxs("div",{className:"glass rounded-2xl p-4 mb-4",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:a("Your Health Profile")}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-blue-700",children:t>0?t:"--"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a("BMI")," (",a(n),")"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-blue-700",children:r.age||"--"}),e.jsx("p",{className:"text-xs text-gray-500",children:a("Age (yrs)")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-blue-700",children:r.diseases?.length||0}),e.jsx("p",{className:"text-xs text-gray-500",children:a("Conditions")})]})]}),r.diseases?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.diseases.map(l=>e.jsx("span",{className:"bg-orange-100 text-orange-700 text-[10px] px-2 py-0.5 rounded-full font-medium",children:l},l))})]}),e.jsx("button",{onClick:v,disabled:h,className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-bold text-sm flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 mb-4",children:h?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-5 h-5 animate-spin"})," ",a("Analyzing with AI"),"..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-5 h-5"})," ",a("Run Health Prediction")]})}),N&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 text-sm text-red-700 mb-4",children:N}),i&&e.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[p.map(({name:l,value:y,fill:w})=>e.jsxs("div",{className:"glass rounded-2xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[a(l)," ",a("Risk")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-bold",style:{color:w},children:[y,"%"]}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium",style:{color:w,backgroundColor:`${w}20`},children:a(C(y))})]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:e.jsx(A.div,{initial:{width:0},animate:{width:`${y}%`},transition:{duration:1,ease:"easeOut"},className:"h-2.5 rounded-full",style:{backgroundColor:w}})})]},l)),e.jsxs("div",{className:"glass rounded-2xl p-4",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-green-600"})," ",a("Preventive Suggestions")]}),e.jsx("ul",{className:"space-y-2",children:i.suggestions?.map((l,y)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5 shrink-0"}),l]},y))})]}),i.alerts?.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4",children:[e.jsxs("p",{className:"text-sm font-bold text-red-700 mb-2 flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"})," ",a("Health Alerts")]}),i.alerts.map((l,y)=>e.jsx("p",{className:"text-sm text-red-600",children:a(l)},y))]}),e.jsx("p",{className:"text-[11px] text-gray-400 text-center",children:a("AI predictions for awareness only. Consult a doctor for diagnosis.")})]})]})}function Pe(){const{t:r}=z(),t=[{id:"symptoms",label:r("Symptoms"),icon:ee},{id:"chat",label:r("Assistant"),icon:_},{id:"predict",label:r("Predict"),icon:Y}],[n,a]=o.useState("chat");return o.useEffect(()=>{const c=new URLSearchParams(window.location.search).get("tab");c&&t.find(i=>i.id===c)&&a(c)},[]),e.jsx(ne,{children:e.jsx("div",{className:"animate-in fade-in duration-500",children:e.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[e.jsxs("div",{className:"px-5 py-4 shrink-0 flex items-center justify-between border-b border-gray-100 bg-white/80 backdrop-blur z-10",children:[e.jsx("div",{children:e.jsxs("h1",{className:"text-2xl font-black text-gray-900 flex items-center gap-2",children:["MIYA ",e.jsx("span",{className:"text-blue-600",children:r("Health AI")})]})}),e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-green-50 text-green-700 font-bold text-[10px] uppercase tracking-wider border border-green-100 shadow-sm",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),r("MIYA Online")]})]}),e.jsx("div",{className:"flex bg-gray-100 rounded-2xl p-1 mb-5",children:t.map(({id:h,label:c,icon:i})=>e.jsxs("button",{onClick:()=>a(h),className:j("flex-1 flex items-center justify-center gap-1.5 py-2.5 rounded-xl text-xs font-bold transition-all",n===h?"bg-white text-blue-700 shadow-sm":"text-gray-500 hover:text-gray-700"),children:[e.jsx(i,{className:"w-3.5 h-3.5"}),c]},h))}),e.jsx(se,{mode:"wait",children:e.jsxs(A.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"flex-1 overflow-y-auto w-full max-w-2xl mx-auto px-4 pb-20",children:[n==="symptoms"&&e.jsx(ye,{}),n==="chat"&&e.jsx(je,{}),n==="predict"&&e.jsx(we,{})]},n)})]})})})}export{Pe as default};
