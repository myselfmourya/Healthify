import{c as z,a as _,d as I,r as i,j as e,L,b as m,G as h,A as b,m as o,Q as F}from"./index-B0BMMOO8.js";import{M as E}from"./MobileLayout-D2nqiddE.js";import{A as T}from"./arrow-left-CH1M9uQR.js";import{S as B}from"./search-B1HaL0La.js";import{C as N}from"./circle-check-Cfh2Dq-1.js";import{I as G}from"./indian-rupee-nVgV41te.js";const Q=[["path",{d:"M12 11v4",key:"a6ujw6"}],["path",{d:"M14 13h-4",key:"1pl8zg"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M18 6v14",key:"1mu4gy"}],["path",{d:"M6 6v14",key:"1s15cj"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],R=z("briefcase-medical",Q);function J(){const{t:s}=_(),{user:u}=I(),[c,f]=i.useState([]),[v,g]=i.useState(!0),[p,k]=i.useState("All"),[x,S]=i.useState(""),[n,C]=i.useState([]),[d,j]=i.useState(null),[A,y]=i.useState(!1);i.useEffect(()=>{const a=setTimeout(async()=>{g(!0);try{const l=await fetch(`/api/insurance?type=${p}&search=${x}`),r=await l.json();if(!l.ok||r.error||r.success===!1){f([]);return}const M=Array.isArray(r.data)?r.data:Array.isArray(r)?r:[];f(M)}catch(l){console.error(l)}finally{g(!1)}},x?500:0);return()=>clearTimeout(a)},[p,x]);const w=c,P=t=>{C(a=>a.includes(t)?a.filter(l=>l!==t):[...a,t])};return e.jsxs(E,{children:[e.jsxs("div",{className:"absolute inset-0 bg-slate-50 z-[-1] overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-emerald-100/60 blur-[100px] rounded-full mix-blend-multiply"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[400px] h-[400px] bg-cyan-100/60 blur-[100px] rounded-full mix-blend-multiply"})]}),e.jsxs("div",{className:"mb-8 pt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{href:"/",children:e.jsx("a",{className:"w-10 h-10 rounded-full bg-white border border-slate-200 flex items-center justify-center text-slate-600 shadow-sm hover:bg-slate-50 transition-colors",children:e.jsx(T,{className:"w-5 h-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-medium tracking-tight text-slate-800 flex items-center gap-2",children:e.jsx("span",{className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-cyan-600",children:s("Coverage")})}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold tracking-widest uppercase mt-0.5",children:s("Insurance & Plans")})]})]}),n.length>=2&&e.jsxs("button",{onClick:()=>y(!0),className:"bg-emerald-600 text-white px-4 py-2 rounded-full text-xs font-bold shadow-lg shadow-emerald-200 flex items-center gap-2 animate-bounce",children:[s("Compare")," (",n.length,")"]})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-[24px] p-5 border border-emerald-100 flex items-start gap-4 shadow-sm mb-8",children:[e.jsx(R,{className:"w-6 h-6 text-emerald-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-emerald-900 font-bold text-sm mb-1",children:s("Profile Matches")}),e.jsxs("p",{className:"text-xs text-emerald-700/80 leading-relaxed font-medium",children:[s("Filtering automatically for Age:")," ",e.jsx("span",{className:"text-emerald-600 font-bold",children:u.age||30}),", ",s("Conditions:")," ",e.jsx("span",{className:"text-emerald-600 font-bold",children:u.diseases?.length||0}),"."]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mb-8 relative z-20",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:e.jsx(B,{className:"w-5 h-5 text-slate-400"})}),e.jsx("input",{type:"text",placeholder:s("Search health plans..."),value:x,onChange:t=>S(t.target.value),className:"w-full pl-12 pr-5 py-4 bg-white border border-slate-200 rounded-[20px] text-sm text-slate-800 font-medium focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 transition-all placeholder-slate-400 shadow-sm"})]}),e.jsx("div",{className:"flex gap-2 bg-slate-100/50 p-1.5 rounded-[20px] border border-slate-200",children:["All","Government","Private"].map(t=>e.jsx("button",{onClick:()=>k(t),className:m("flex-1 py-3 text-[10px] font-bold uppercase tracking-widest rounded-[16px] transition-all",p===t?"bg-white text-emerald-600 shadow-sm border border-slate-200":"bg-transparent text-slate-500 hover:bg-slate-200/50 hover:text-slate-700"),children:s(t)},t))})]}),v?e.jsxs("div",{className:"py-24 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 border-[3px] border-emerald-100 border-t-emerald-500 rounded-full animate-spin mb-6 text-emerald-500 shadow-sm flex items-center justify-center",children:e.jsx(h,{className:"w-6 h-6 absolute animate-pulse"})}),e.jsx("p",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-widest animate-pulse",children:s("Finding Plans...")})]}):e.jsx("div",{className:"space-y-6 pb-20",children:w.length===0?e.jsxs("div",{className:"text-center py-16 bg-white/80 rounded-[32px] border border-white shadow-[0_8px_30px_rgba(0,0,0,0.04)] backdrop-blur-xl",children:[e.jsx(h,{className:"w-16 h-16 text-slate-200 mx-auto mb-4"}),e.jsx("h3",{className:"text-slate-800 font-bold tracking-widest uppercase text-sm mb-2",children:s("No Matches Found")}),e.jsx("p",{className:"text-xs text-slate-500",children:s("Try changing your search or filters.")})]}):e.jsx(b,{children:w.map((t,a)=>{const l=n.includes(String(t.id));return e.jsxs(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.05},className:m("bg-white/80 rounded-[32px] p-6 border transition-all duration-300 shadow-[0_8px_30px_rgba(0,0,0,0.04)] flex flex-col backdrop-blur-xl relative overflow-hidden",l?"border-emerald-500 ring-2 ring-emerald-500/10":"border-white"),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/50 to-transparent pointer-events-none mix-blend-overlay"}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("button",{onClick:()=>P(String(t.id)),className:m("w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all shrink-0 mt-1",l?"bg-emerald-600 border-emerald-600 text-white":"border-slate-200"),children:l&&e.jsx(N,{className:"w-4 h-4"})}),e.jsx("h3",{className:"font-bold text-[16px] tracking-tight text-slate-800 leading-tight pr-4",children:s(t.name)})]}),e.jsx("span",{className:m("text-[9px] uppercase font-bold tracking-widest px-3 py-1.5 rounded-full shrink-0 border shadow-sm",t.type==="Government"?"bg-cyan-50 text-cyan-600 border-cyan-100":"bg-emerald-50 text-emerald-600 border-emerald-100"),children:s(t.type)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 relative z-10",children:[e.jsxs("div",{className:"bg-white rounded-[20px] p-4 border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] uppercase font-bold text-slate-500 tracking-widest mb-2 flex items-center gap-2",children:[e.jsx(h,{className:"w-3.5 h-3.5 text-emerald-500"})," ",s("Coverage")]}),e.jsx("p",{className:"font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-cyan-600",children:s(t.coverage)})]}),e.jsxs("div",{className:"bg-white rounded-[20px] p-4 border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] uppercase font-bold text-slate-500 tracking-widest mb-2 flex items-center gap-2",children:[e.jsx(G,{className:"w-3.5 h-3.5 text-cyan-500"})," ",s("Premium")]}),e.jsx("p",{className:"font-bold text-slate-800",children:s(t.premium)})]})]}),e.jsx("div",{className:"mb-6 flex-1 relative z-10",children:e.jsx("p",{className:"text-sm text-slate-600 font-medium leading-relaxed",children:s(t.benefit)})}),e.jsxs("button",{onClick:()=>j(t),className:"relative z-10 w-full py-4 bg-white hover:bg-slate-50 border border-slate-200 text-slate-700 rounded-[20px] text-xs font-bold tracking-widest uppercase transition-all flex items-center justify-center gap-3 shadow-sm",children:[s("View Details")," ",e.jsx(F,{className:"w-4 h-4 text-emerald-500"})]})]},t.id)})})}),e.jsx(b,{children:d&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md",children:e.jsxs(o.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white w-full max-w-lg rounded-[32px] p-8 max-h-[90vh] overflow-y-auto relative shadow-2xl",children:[e.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-6",children:s(d.name)}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-3",children:s("Core Benefit")}),e.jsx("p",{className:"text-sm text-slate-600 font-medium leading-relaxed bg-slate-50 p-5 rounded-2xl border border-slate-100",children:s(d.benefit)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-3",children:s("Eligibility Criteria")}),e.jsx("ul",{className:"space-y-3",children:(Array.isArray(d.eligibility)?d.eligibility:[d.eligibility]).map((t,a)=>e.jsxs("li",{className:"flex gap-4 p-4 bg-white border border-slate-100 rounded-2xl text-sm font-medium text-slate-700",children:[e.jsx(N,{className:"w-5 h-5 text-emerald-500 shrink-0"}),s(t)]},a))})]})]}),e.jsx("button",{onClick:()=>j(null),className:"w-full mt-10 py-4 bg-slate-900 text-white rounded-2xl font-bold uppercase tracking-widest text-xs shadow-lg",children:s("Close")})]})})}),e.jsx(b,{children:A&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md",children:e.jsxs(o.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white w-full max-w-2xl rounded-[32px] p-8 max-h-[90vh] overflow-x-auto relative shadow-2xl",children:[e.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-8",children:s("Plan Comparison")}),e.jsx("div",{className:"min-w-[600px]",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("th",{className:"py-4 text-[10px] font-bold uppercase text-slate-400",children:s("Feature")}),n.map(t=>{const a=c.find(l=>String(l.id)===t);return a?e.jsx("th",{className:"py-4 px-4 text-sm font-bold text-emerald-600 text-center",children:s(a.name)},t):null})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-6 text-sm font-bold text-slate-500",children:s("Coverage Limit")}),n.map(t=>{const a=c.find(l=>String(l.id)===t);return e.jsx("td",{className:"py-6 px-4 text-center font-black text-slate-800",children:a?.coverage},t)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-6 text-sm font-bold text-slate-500",children:s("Annual Premium")}),n.map(t=>{const a=c.find(l=>String(l.id)===t);return e.jsx("td",{className:"py-6 px-4 text-center font-bold text-emerald-600 bg-emerald-50/50 rounded-xl m-2",children:a?.premium},t)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-6 text-sm font-bold text-slate-500",children:s("Eligibility")}),n.map(t=>{const a=c.find(r=>String(r.id)===t),l=Array.isArray(a?.eligibility)?a?.eligibility.join(", "):a?.eligibility;return e.jsx("td",{className:"py-6 px-4 text-center text-xs text-slate-600 leading-relaxed",children:l},t)})]})]})]})}),e.jsx("button",{onClick:()=>y(!1),className:"w-full mt-10 py-4 bg-slate-100 text-slate-700 rounded-2xl font-bold uppercase tracking-widest text-xs hover:bg-slate-200 md:w-max px-12 mx-auto block",children:s("Back to Plans")})]})})})]})}export{J as default};
