import{c as O,d as te,f as se,r as i,j as e,b as n,U as ae,P as le,g as ne,G as F,W as re,H as oe,A as S,m as u,X as U,C as ie}from"./index-B0BMMOO8.js";import{M as ce}from"./MobileLayout-D2nqiddE.js";import{A as de,a as xe,b as me,B as he}from"./avatar-C_fCG4y9.js";import{C as pe}from"./ConfirmModal-Co7n_-f4.js";import{G as ge}from"./globe-BAyLtV-y.js";import{P as B}from"./phone-DgGuLPZY.js";import{L as ue}from"./lock-ynS1g4Q5.js";import{I as be}from"./info-BuNa196L.js";import{C as ye}from"./circle-alert-CX-_l5l9.js";import{C as fe}from"./check-BdKeHo3e.js";import{T as je}from"./trash-2-BQVqZfof.js";const Ne=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],H=O("pen-line",Ne);const ve=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],I=O("phone-call",ve),A=[{code:"en",name:"English"},{code:"hi",name:"हिंदी (Hindi)"},{code:"bn",name:"বাংলা (Bengali)"},{code:"te",name:"తెలుగు (Telugu)"},{code:"mr",name:"मराठी (Marathi)"},{code:"ta",name:"தமிழ் (Tamil)"},{code:"gu",name:"ગુજરાતી (Gujarati)"},{code:"kn",name:"ಕನ್ನಡ (Kannada)"},{code:"ml",name:"മലയാളം (Malayalam)"},{code:"pa",name:"ਪੰਜਾਬੀ (Punjabi)"},{code:"or",name:"ଓଡ଼ିଆ (Odia)"},{code:"as",name:"অসমীয়া (Assamese)"},{code:"ur",name:"اردو (Urdu)"}];function y({on:a,onToggle:r,isPro:t}){return e.jsx("button",{onClick:r,className:n("relative w-12 h-6 rounded-full transition-colors duration-300 flex items-center px-1 shrink-0",a?t?"bg-emerald-600":"bg-blue-600":"bg-gray-200"),children:e.jsx("span",{className:n("w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-300 shrink-0",a?"translate-x-6":"translate-x-0")})})}function Re(){const{user:a,updateUser:r}=te(),{t,setLanguage:v}=se(),x=a.name||"User",j=x.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2),l=a?.appMode==="advanced",m=l?"bg-emerald-600":"bg-blue-600",b=l?"text-emerald-600":"text-blue-600",M=l?"bg-emerald-50":"bg-blue-50",$=l?"hover:bg-emerald-100":"hover:bg-blue-100",z=l?"border-emerald-600":"border-blue-600",[P,D]=i.useState(!0),[L,_]=i.useState(!0),[Y,w]=i.useState(!1),[V,p]=i.useState(!1),[W,k]=i.useState(!1),[K,T]=i.useState(!1),[C,X]=i.useState(A.find(s=>s.code===a.language)||A[0]),[c,E]=i.useState({name:a.name||"",age:a.age||"",gender:a.gender||"",location:a.location||"",bloodGroup:a.bloodGroup||""}),[d,G]=i.useState(a.emergencyContacts||[]),[g,R]=i.useState({name:"",phone:"",relation:""}),q=()=>{r({name:c.name,age:typeof c.age=="string"?parseInt(c.age)||0:c.age,gender:c.gender,location:c.location,bloodGroup:c.bloodGroup}),p(!1)},J=s=>{X(s),v(s.code),r({language:s.code}),w(!1)},Q=()=>{if(!g.name||!g.phone)return;const s=[...d,g];G(s),r({emergencyContacts:s}),R({name:"",phone:"",relation:""})},Z=s=>{const o=d.filter((N,ee)=>ee!==s);G(o),r({emergencyContacts:o})};return e.jsxs(ce,{children:[e.jsxs("div",{className:"animate-in fade-in duration-500 pb-4",children:[e.jsxs("div",{className:"glass rounded-3xl p-5 mb-6 flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(de,{className:"h-16 w-16 border-2 border-white shadow-lg",children:[e.jsx(xe,{src:a.avatar||`https://ui-avatars.com/api/?name=${x}&background=1d4ed8&color=fff&rounded=true`}),e.jsx(me,{className:n("text-white font-bold text-lg",m),children:j})]}),e.jsx("button",{onClick:()=>p(!0),className:n("absolute -bottom-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center border-2 border-white",m),children:e.jsx(H,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"font-bold text-gray-900 text-lg",children:x}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.age?`${a.age} ${t("yrs")}`:"",a.age&&a.gender?" · ":"",t(a.gender||"")]}),e.jsxs("p",{className:n("text-xs font-medium mt-0.5",b),children:[a.location||t("Set your location")," →"]})]}),e.jsx("button",{onClick:()=>p(!0),className:n("p-2 rounded-xl transition-colors",M,b,$),children:e.jsx(H,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(f,{title:t("Account & Experience"),children:[e.jsx(h,{isPro:l,icon:ae,label:t("Edit Profile"),sub:t("Update your personal info"),onClick:()=>p(!0)}),e.jsx(h,{isPro:l,icon:ge,label:t("Language"),sub:t(C.name),onClick:()=>w(!0)}),e.jsxs("div",{className:"flex items-center justify-between py-3 px-4 backdrop-blur-sm bg-blue-50/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-100 flex items-center justify-center border border-indigo-200/50",children:e.jsx(le,{className:"w-4 h-4 text-indigo-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900 flex items-center gap-1.5",children:[t("Advanced Mode")," ",e.jsx(ne,{className:"w-3 h-3 text-indigo-500"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium tracking-wide uppercase mt-0.5",children:a.appMode==="advanced"?t("Currently Active"):t("Switch to Pro")})]})]}),e.jsx(y,{isPro:l,on:a.appMode==="advanced",onToggle:()=>r({appMode:a.appMode==="advanced"?"beginner":"advanced"})})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 px-4 backdrop-blur-sm bg-purple-50/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-purple-100 flex items-center justify-center border border-purple-200/50",children:e.jsx(F,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t("Caregiver Mode")}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium tracking-wide uppercase mt-0.5",children:a.isCaregiverMode?t("Read-Only Active"):t("Enable View Access")})]})]}),e.jsx(y,{isPro:l,on:!!a.isCaregiverMode,onToggle:()=>r({isCaregiverMode:!a.isCaregiverMode})})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 px-4 backdrop-blur-sm bg-orange-50/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-orange-100 flex items-center justify-center border border-orange-200/50",children:e.jsx(re,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t("Low Data Mode")}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium tracking-wide uppercase mt-0.5",children:a.lowConnectivityMode?t("Adaptive Scaling On"):t("Standard Experience")})]})]}),e.jsx(y,{isPro:l,on:!!a.lowConnectivityMode,onToggle:()=>r({lowConnectivityMode:!a.lowConnectivityMode})})]})]}),e.jsxs(f,{title:t("Notifications"),children:[e.jsxs("div",{className:"flex items-center justify-between py-3 px-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:n("w-9 h-9 rounded-xl flex items-center justify-center",M),children:e.jsx(he,{className:n("w-4 h-4",b)})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t("Health Alerts")}),e.jsx("p",{className:"text-xs text-gray-500",children:t("Appointment & medication reminders")})]})]}),e.jsx(y,{isPro:l,on:P,onToggle:()=>D(!P)})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 px-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-rose-50 flex items-center justify-center",children:e.jsx(oe,{className:"w-4 h-4 text-rose-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t("Health Tips")}),e.jsx("p",{className:"text-xs text-gray-500",children:t("Daily MIYA health tips")})]})]}),e.jsx(y,{isPro:l,on:L,onToggle:()=>_(!L)})]})]}),e.jsxs(f,{title:t("Emergency Contacts"),children:[e.jsx(h,{isPro:l,icon:I,label:t("Manage Contacts"),sub:d.length>0?`${d.length} ${t("contact"+(d.length>1?"s":""))} ${t("saved")}`:t("No contacts added yet"),onClick:()=>k(!0),accent:"red"}),d.length>0&&e.jsx("div",{className:"px-4 pb-3 space-y-2",children:d.slice(0,2).map((s,o)=>e.jsxs("div",{className:"bg-red-50 rounded-xl p-2.5 flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 bg-red-100 rounded-full flex items-center justify-center shrink-0",children:e.jsx(B,{className:"w-3.5 h-3.5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900 truncate",children:s.name}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:[s.phone," · ",t(s.relation)]})]}),e.jsx("a",{href:`tel:${s.phone}`,className:"p-1 bg-red-100 rounded-lg",children:e.jsx(I,{className:"w-3.5 h-3.5 text-red-600"})})]},o))})]}),e.jsxs(f,{title:t("Privacy & Security"),children:[e.jsx(h,{isPro:l,icon:ue,label:t("Privacy Policy"),sub:t("Data stored locally on device")}),e.jsx(h,{isPro:l,icon:F,label:t("Data & Storage"),sub:t("All data kept on your phone")})]}),e.jsxs(f,{title:t("About"),children:[e.jsx(h,{isPro:l,icon:be,label:t("About Healthify"),sub:t("Version 1.0.0 · Powered by MIYA AI")}),e.jsx(h,{isPro:l,icon:ye,label:t("Reset Onboarding"),sub:t("Clear data and restart setup"),accent:"red",onClick:()=>T(!0)})]})]})]}),e.jsx(pe,{isOpen:K,title:t("Reset Data?"),description:t("This will erase all your local data and restart the setup. This action cannot be undone."),confirmText:t("Delete"),cancelText:t("Cancel"),danger:!0,onConfirm:()=>{localStorage.clear(),window.location.reload()},onCancel:()=>T(!1)}),e.jsx(S,{children:Y&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 z-40",onClick:()=>w(!1)}),e.jsxs(u.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30},className:"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-sm bg-white rounded-t-3xl z-50 px-5 pt-4 pb-8",children:[e.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full mx-auto mb-5"}),e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-4",children:t("Choose Language")}),e.jsx("div",{className:"overflow-y-auto scrollbar-none max-h-72 space-y-1",children:A.map(s=>e.jsxs("button",{onClick:()=>J(s),className:n("w-full flex items-center justify-between px-4 py-3 rounded-xl text-sm font-medium transition-colors",C.code===s.code?n("text-white",m):"hover:bg-gray-100 text-gray-800"),children:[s.name,C.code===s.code&&e.jsx(fe,{className:"w-4 h-4"})]},s.code))})]})]})}),e.jsx(S,{children:V&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 z-40",onClick:()=>p(!1)}),e.jsxs(u.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30},className:"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-sm bg-white rounded-t-3xl z-50 px-5 pt-4 pb-8",children:[e.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full mx-auto mb-4"}),e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:t("Edit Profile")}),e.jsx("button",{onClick:()=>p(!1),className:"p-2 rounded-xl bg-gray-100",children:e.jsx(U,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"space-y-3 overflow-y-auto scrollbar-none max-h-96",children:[[{key:"name",label:t("Full Name"),placeholder:t("Your name")},{key:"age",label:t("Age"),placeholder:t("e.g. 28"),type:"number"},{key:"location",label:t("Location / Village"),placeholder:t("Your village or city")},{key:"bloodGroup",label:t("Blood Group"),placeholder:t("e.g. O+")}].map(s=>e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-600 mb-1 block",children:s.label}),e.jsx("input",{type:s.type||"text",placeholder:s.placeholder,value:c[s.key],onChange:o=>E(N=>({...N,[s.key]:o.target.value})),className:n("w-full px-4 py-3 rounded-xl border border-gray-200 text-sm focus:outline-none bg-gray-50",l?"focus:border-emerald-500":"focus:border-blue-500")})]},s.key)),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-600 mb-1 block",children:t("Gender")}),e.jsx("div",{className:"flex gap-2",children:["Male","Female","Other"].map(s=>e.jsx("button",{onClick:()=>E(o=>({...o,gender:s})),className:n("flex-1 py-2.5 rounded-xl text-sm font-medium transition-colors border",c.gender===s?n("text-white",m,z):"border-gray-200 text-gray-700 hover:bg-gray-50"),children:t(s)},s))})]})]}),e.jsx("button",{onClick:q,className:n("w-full mt-4 py-3.5 text-white rounded-2xl font-bold text-sm transition-colors",m,l?"hover:bg-emerald-700":"hover:bg-blue-700"),children:t("Save Changes")})]})]})}),e.jsx(S,{children:W&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 z-40",onClick:()=>k(!1)}),e.jsxs(u.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30},className:"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-sm bg-white rounded-t-3xl z-50 px-5 pt-4 pb-8",children:[e.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full mx-auto mb-4"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:t("Emergency Contacts")}),e.jsx("button",{onClick:()=>k(!1),className:"p-2 rounded-xl bg-gray-100",children:e.jsx(U,{className:"w-4 h-4 text-gray-600"})})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto scrollbar-none mb-4",children:d.length===0?e.jsx("div",{className:"text-center py-4 text-sm text-gray-400",children:t("No contacts yet. Add one below.")}):d.map((s,o)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 rounded-2xl",children:[e.jsx("div",{className:"w-9 h-9 bg-red-100 rounded-full flex items-center justify-center shrink-0",children:e.jsx(B,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.phone," · ",t(s.relation)]})]}),e.jsx("button",{onClick:()=>Z(o),className:"p-1.5 bg-white rounded-lg shadow-sm",children:e.jsx(je,{className:"w-3.5 h-3.5 text-red-500"})})]},o))}),e.jsxs("div",{className:"border-t border-gray-100 pt-4 space-y-2",children:[e.jsx("p",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider",children:t("Add Contact")}),[{key:"name",placeholder:t("Full Name")},{key:"phone",placeholder:t("Phone Number"),type:"tel"},{key:"relation",placeholder:t("Relation (e.g. Father, Doctor)")}].map(s=>e.jsx("input",{type:s.type||"text",placeholder:s.placeholder,value:g[s.key],onChange:o=>R(N=>({...N,[s.key]:o.target.value})),className:n("w-full px-3.5 py-2.5 rounded-xl border border-gray-200 text-sm focus:outline-none bg-gray-50",l?"focus:border-emerald-500":"focus:border-blue-500")},s.key)),e.jsx("button",{onClick:Q,disabled:!g.name||!g.phone,className:"w-full py-3 bg-red-500 text-white rounded-xl font-bold text-sm hover:bg-red-600 disabled:opacity-40 transition-colors",children:t("Add Emergency Contact")})]})]})]})})]})}function f({title:a,children:r}){return e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-1 mb-2",children:a}),e.jsx("div",{className:"glass rounded-2xl divide-y divide-gray-100/60 overflow-hidden",children:r})]})}function h({icon:a,label:r,sub:t,onClick:v,accent:x,isPro:j}){const l=x==="red"?"bg-red-50":j?"bg-emerald-50":"bg-blue-50",m=x==="red"?"text-red-600":j?"text-emerald-600":"text-blue-600",b=x==="red"?"text-red-700":"text-gray-900";return e.jsxs("button",{onClick:v,className:"w-full flex items-center gap-3 py-3 px-4 hover:bg-gray-50/70 transition-colors text-left",children:[e.jsx("div",{className:n("w-9 h-9 rounded-xl flex items-center justify-center shrink-0",l),children:e.jsx(a,{className:n("w-4 h-4",m)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:n("text-sm font-semibold",b),children:r}),t&&e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:t})]}),e.jsx(ie,{className:"w-4 h-4 text-gray-400 shrink-0"})]})}export{Re as default};
