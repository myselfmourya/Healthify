import{c as L,a as D,r,j as e,L as T,e as O,A as G,m as c,b as o}from"./index-B0BMMOO8.js";import{M as z}from"./MobileLayout-D2nqiddE.js";import{A as B}from"./arrow-left-CH1M9uQR.js";import{S as j}from"./shield-check-CqJhENm0.js";import{U as F}from"./user-plus-7sFJRjn-.js";import{P as U}from"./plus-BGHh8ZQu.js";import{T as q}from"./trash-2-BQVqZfof.js";const E=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],w=L("dna",E);function W(){const{t:s}=D(),[l,x]=r.useState([]),[m,p]=r.useState([]),[h,b]=r.useState(!1),[g,N]=r.useState("Parent"),[n,d]=r.useState([]),v=["Type 2 Diabetes","Heart Disease","Breast Cancer","High Blood Pressure","Asthma","Alzheimer's","Sickle Cell Anemia","Cystic Fibrosis","Huntington's Disease","Colorectal Cancer","Parkinson's Disease","Lynch Syndrome","Hemophilia","Polycystic Kidney Disease"],y=["Parent","Grandparent","Sibling","Uncle","Aunt","Cousin","Child"],k=()=>{if(n.length===0)return;const t={id:Date.now().toString(),relation:g,conditions:[...n]},a=[...l,t];x(a),d([]),f(a)},S=t=>{const a=l.filter(i=>i.id!==t);x(a),f(a)},[C,u]=r.useState(""),[A,P]=r.useState(""),[M,R]=r.useState(""),f=async t=>{if(t.length===0){p([]),u("");return}b(!0);try{const i=await(await fetch("/api/advanced/family",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tree:t})})).json();p(i.risks||[]),u(i.roadmap||""),P(i.nextStep||""),R(i.recommendation||"")}catch(a){console.error(a)}finally{b(!1)}},_={High:"bg-rose-500 shadow-sm",Moderate:"bg-amber-500 shadow-sm",Low:"bg-emerald-500 shadow-sm"};return e.jsxs(z,{children:[e.jsxs("div",{className:"absolute inset-0 bg-slate-50 z-[-1] overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-indigo-100/60 blur-[100px] rounded-full mix-blend-multiply"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[400px] h-[400px] bg-violet-100/60 blur-[100px] rounded-full mix-blend-multiply"})]}),e.jsx("div",{className:"mb-8 pt-4 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{href:"/",children:e.jsx("a",{className:"w-10 h-10 rounded-full bg-white border border-slate-200 flex items-center justify-center text-slate-600 shadow-sm hover:bg-slate-50 transition-colors",children:e.jsx(B,{className:"w-5 h-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-medium tracking-tight text-slate-800 flex items-center gap-2",children:e.jsx("span",{className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-violet-600",children:s("Family Health")})}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold tracking-widest uppercase mt-0.5",children:s("Genetic Risks")})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 pb-20",children:[e.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2 uppercase tracking-wider text-[10px] opacity-60",children:[e.jsx(O,{className:"w-4 h-4 text-indigo-600"}),s("Genetic Risk Assessment")]}),l.length===0&&e.jsxs("div",{className:"bg-white/80 border border-indigo-100 rounded-[32px] p-12 text-center shadow-[0_8px_30px_rgba(0,0,0,0.04)] backdrop-blur-md relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"w-20 h-20 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-6 border border-indigo-100 shadow-inner",children:e.jsx(w,{className:"w-10 h-10 text-indigo-400"})}),e.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-2",children:s("Your Genetic Roadmap Starts Here")}),e.jsx("p",{className:"text-sm font-medium tracking-wide text-slate-500 leading-relaxed max-w-[300px] mx-auto uppercase text-[10px] tracking-widest",children:s("Add family members and their conditions to see your possible genetic risks.")})]}),h?e.jsxs("div",{className:"py-24 flex flex-col items-center justify-center bg-white/40 rounded-[32px] border border-white/60",children:[e.jsx("div",{className:"w-16 h-16 border-[3px] border-indigo-100 border-t-indigo-600 rounded-full animate-spin mb-6 shadow-sm flex items-center justify-center",children:e.jsx(w,{className:"w-6 h-6 absolute animate-pulse text-indigo-500"})}),e.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] uppercase text-indigo-600 animate-pulse",children:s("Decoding DNA Patterns...")})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsx(G,{children:m.map((t,a)=>e.jsx(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:o("rounded-[28px] p-6 border transition-all duration-300 shadow-[0_4px_20px_rgba(0,0,0,0.02)] flex flex-col justify-between group hover:shadow-lg hover:-translate-y-1 bg-white/80 backdrop-blur-md",t.tier==="High"?"border-rose-100 hover:border-rose-300":t.tier==="Moderate"?"border-amber-100 hover:border-amber-300":"border-emerald-100 hover:border-emerald-300"),children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("p",{className:"font-black text-xs uppercase tracking-widest text-slate-400 group-hover:text-indigo-600 transition-colors",children:s(t.condition)}),e.jsx("span",{className:o("text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-full",t.tier==="High"?"bg-rose-50 text-rose-600":t.tier==="Moderate"?"bg-amber-50 text-amber-600":"bg-emerald-50 text-emerald-600"),children:s(t.tier)})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsxs("span",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:[t.riskPercentage,"%"]}),e.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden shadow-inner",children:e.jsx(c.div,{initial:{width:0},animate:{width:`${t.riskPercentage}%`},transition:{duration:1.5,ease:"easeOut"},className:o("h-full rounded-full shadow-sm",_[t.tier])})})]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none",children:s("Susceptibility Score")})]})},t.condition))})})]}),m.length>0&&!h&&e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-8 bg-slate-900 rounded-[32px] text-white relative overflow-hidden shadow-xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/20 blur-[60px] rounded-full -mr-20 -mt-20"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(j,{className:"w-10 h-10 text-indigo-400 mb-6"}),e.jsx("h4",{className:"text-xl font-bold mb-3",children:s("Preventive Action Plan")}),e.jsx("p",{className:"text-sm text-slate-300 leading-relaxed font-medium mb-6",children:s(C)}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/10 p-4 rounded-2xl backdrop-blur-sm border border-white/10",children:[e.jsx("p",{className:"text-[10px] uppercase font-black text-indigo-300 mb-1",children:s("Next Step")}),e.jsx("p",{className:"text-xs font-bold",children:s(A)})]}),e.jsxs("div",{className:"bg-white/10 p-4 rounded-2xl backdrop-blur-sm border border-white/10",children:[e.jsx("p",{className:"text-[10px] uppercase font-black text-emerald-300 mb-1",children:s("Recommendation")}),e.jsx("p",{className:"text-xs font-bold",children:s(M)})]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-5 space-y-6",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[32px] p-8 border border-white shadow-[0_8px_30px_rgba(0,0,0,0.04)] h-fit",children:[e.jsxs("h3",{className:"font-black text-slate-800 mb-8 uppercase tracking-[0.2em] text-[10px] opacity-60 flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-indigo-600"}),s("Add Relative")]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 block",children:s("Relation")}),e.jsx("div",{className:"relative",children:e.jsx("select",{value:g,onChange:t=>N(t.target.value),className:"w-full h-11 px-4 bg-slate-50 border border-slate-100 rounded-xl text-xs text-slate-800 font-bold focus:outline-none focus:border-indigo-500 appearance-none shadow-sm transition-all",children:y.map(t=>e.jsx("option",{value:t,children:s(t)},t))})})]}),e.jsx("div",{className:"flex-1 flex items-end",children:e.jsxs("button",{onClick:k,disabled:n.length===0,className:"w-full h-11 bg-slate-900 hover:bg-slate-800 disabled:opacity-30 text-white rounded-xl font-black uppercase tracking-widest text-[9px] transition-all flex items-center justify-center gap-2 shadow-sm group",children:[e.jsx(U,{className:"w-3.5 h-3.5 transition-transform group-hover:rotate-90"})," ",s("Add To Log")]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:s("Select Conditions")}),e.jsx("div",{className:"grid grid-cols-2 gap-1.5 max-h-[220px] overflow-y-auto pr-1 custom-scrollbar",children:v.map(t=>{const a=n.includes(t);return e.jsxs("button",{onClick:()=>{d(a?i=>i.filter(H=>H!==t):i=>[...i,t])},className:o("px-3 py-2 rounded-lg text-[10px] font-bold transition-all border text-left flex items-center justify-between",a?"bg-indigo-600 border-indigo-600 text-white":"bg-white border-slate-100 text-slate-500"),children:[e.jsx("span",{className:"truncate mr-1",children:s(t)}),a&&e.jsx(j,{className:"w-3 h-3 shrink-0"})]},t)})})]})]}),l.length>0&&e.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:s("History Log")}),e.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 bg-indigo-50 px-2.5 py-1 rounded-full",children:[l.length," ",s("Members")]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(t=>e.jsxs("div",{className:"group flex items-center justify-between p-4 bg-white border border-slate-100 rounded-2xl hover:border-indigo-200 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400"}),e.jsx("p",{className:"text-[11px] font-black text-slate-800 tracking-wider uppercase",children:s(t.relation)})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.conditions.map(a=>e.jsx("span",{className:"text-[9px] font-bold py-1 px-2.5 bg-slate-50 border border-slate-100 rounded-lg text-slate-600 truncate max-w-[120px]",children:s(a)},a))})]}),e.jsx("button",{onClick:()=>S(t.id),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors ml-2",children:e.jsx(q,{className:"w-4 h-4"})})]},t.id))})]})]})})]})]})}export{W as default};
